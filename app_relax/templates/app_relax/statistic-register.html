{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relax</title>

    <script src="{% static '/lib/highcharts/highcharts.js' %}"></script>
    <script src="{% static '/lib/highcharts/modules/data.js' %}"></script>
    <script src="{% static '/lib/highcharts/modules/drilldown.js' %}"></script>
    <script src="{% static '/lib/highcharts/modules/exporting.js' %}"></script>
    <script src="{% static '/lib/highcharts/modules/export-data.js' %}"></script>
    <script src="{% static '/lib/highcharts/modules/accessibility.js' %}"></script>
</head>
<body>

    <figure class="highcharts-figure">
        <div id="container"></div>
        <!-- <p class="highcharts-description">
            Chart showing browser market shares. Clicking on individual columns
            brings up more detailed data. This chart makes use of the drilldown
            feature in Highcharts to easily switch between datasets.
        </p> -->
    </figure>
    
    {% for elemento in data %}
        {% ifequal request.user elemento.user%}
    <script>
        Highcharts.chart('container', {
    chart: {
        type: 'column'
    },
    title: {
        text: 'Browser market shares. January, 2018'
    },
    subtitle: {
        text: 'Click the columns to view versions. Source: <a href="http://statcounter.com" target="_blank">statcounter.com</a>'
    },
    accessibility: {
        announceNewData: {
            enabled: true
        }
    },
    xAxis: {
        type: 'category'
    },
    yAxis: {
        title: {
            text: 'Total percent market share'
        }

    },
    legend: {
        enabled: false
    },
    plotOptions: {
        series: {
            borderWidth: 0,
            dataLabels: {
                enabled: true,
                format: '{point.y:.1f}%'
            }
        }
    },

    tooltip: {
        headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
        pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y:.2f}%</b> of total<br/>'
    },

    series: [
        {
            name: "Sentimientos",
            colorByPoint: true,
            data: [
                {
                    name: "Tristeza",
                    y: parseFloat('{{ elemento.porcentaje_tristeza }}'),
                    drilldown: "Chrome"
                },
                {
                    name: "Rabia",
                    y: parseFloat('{{ elemento.porcentaje_rabia }}'),
                    drilldown: "Firefox"
                },
                {
                    name: "Angustia",
                    y: parseFloat('{{ elemento.porcentaje_angustia }}'),
                    drilldown: "Internet Explorer"
                },
                {
                    name: "Ansia",
                    y: parseFloat('{{ elemento.porcentaje_ansia }}'),
                    drilldown: "Safari"
                },
                {
                    name: "Miedo",
                    y: parseFloat('{{ elemento.porcentaje_miedo }}'),
                    drilldown: "Edge"
                },
                {
                    name: "Frustación",
                    y: parseFloat('{{ elemento.porcentaje_frustracion }}'),
                    drilldown: "Opera"
                },
                {
                    name: "Verguenza",
                    y: parseFloat('{{ elemento.porcentaje_verguenza }}'),
                    drilldown: null
                }
            ]
        }
    ],
    drilldown: {
        series: [
            {
                name: "Tristeza",
                id: "Chrome",
                data: [
                    [
                        "Mañana",
                        parseFloat('{{ elemento.manana_tristeza }}')
                    ],
                    [
                        "Medio día",
                        parseFloat('{{ elemento.medioDia_tristeza }}')
                    ],
                    [
                        "Tarde",
                        parseFloat('{{ elemento.tarde_tristeza }}')
                    ],
                    [
                        "Noche",
                        parseFloat('{{ elemento.noche_tristeza }}')
                    ],
                ]
            },
            {
                name: "Rabia",
                id: "Firefox",
                data: [
                    [
                        "Mañana",
                        parseFloat('{{ elemento.manana_rabia }}')
                    ],
                    [
                        "Medio día",
                        parseFloat('{{ elemento.medioDia_rabia }}')
                    ],
                    [
                        "Tarde",
                        parseFloat('{{ elemento.tarde_rabia }}')
                    ],
                    [
                        "Noche",
                        parseFloat('{{ elemento.noche_rabia }}')
                    ],
                ]
            },
            {
                name: "Angustia",
                id: "Internet Explorer",
                data: [
                    [
                        "Mañana",
                        parseFloat('{{ elemento.manana_angustia }}')
                    ],
                    [
                        "Medio día",
                        parseFloat('{{ elemento.mediaDia_angustia }}')
                    ],
                    [
                        "Tarde",
                        parseFloat('{{ elemento.tarde_angustia }}')
                    ],
                    [
                        "Noche",
                        parseFloat('{{ elemento.noche_angustia }}')
                    ]
                ]
            },
            {
                name: "Ansia",
                id: "Safari",
                data: [
                    [
                        "Mañana",
                        parseFloat('{{ elemento.manana_ansia }}')
                    ],
                    [
                        "Medio día",
                        parseFloat('{{ elemento.medioDia_ansia }}')
                    ],
                    [
                        "Tarde",
                        parseFloat('{{ elemento.tarde_ansia }}')
                    ],
                    [
                        "Noche",
                        parseFloat('{{ elemento.noche_ansia }}')
                    ],
                ]
            },
            {
                name: "Miedo",
                id: "Edge",
                data: [
                    [
                        "Mañana",
                        parseFloat('{{ elemento.manana_miedo }}')
                    ],
                    [
                        "Medio día",
                        parseFloat('{{ elemento.medioDia_miedo }}')
                    ],
                    [
                        "Tarde",
                        parseFloat('{{ elemento.tarde_miedo }}')
                    ],
                    [
                        "Noche",
                        parseFloat('{{ elemento.noche_miedo }}')
                    ]
                ]
            },
            {
                name: "Frustacion",
                id: "Opera",
                data: [
                    [
                        "Mañana",
                        parseFloat('{{ elemento.manana_frustracion }}')
                    ],
                    [
                        "Medio día",
                        parseFloat('{{ elemento.medioDia_frustracion }}')
                    ],
                    [
                        "Tarde",
                        parseFloat('{{ elemento.tarde_frustracion }}')
                    ],
                    [
                        "Noche",
                        parseFloat('{{ elemento.noche_frustracion }}')
                    ],
                ]
            },
            {
                name: "Miedo",
                id: "Edge",
                data: [
                    [
                        "Mañana",
                        parseFloat('{{ elemento.manana_miedo }}')
                    ],
                    [
                        "Medio día",
                        parseFloat('{{ elemento.medioDia_miedo }}')
                    ],
                    [
                        "Tarde",
                        parseFloat('{{ elemento.tarde_miedo }}')
                    ],
                    [
                        "Noche",
                        parseFloat('{{ elemento.noche_miedo }}')
                    ]
                ]
            },
        ]
    }
});
    </script>
    {% endifequal %}
    {% endfor %}
</body>
</html>